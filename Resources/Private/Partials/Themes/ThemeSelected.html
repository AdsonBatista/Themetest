{namespace themes=KayStrobach\Themes\ViewHelpers}
<div class="row">
	<div class="col-xs-4">
		<h1>{selectedTheme.title} - {selectedTheme.version}</h1>
		<f:if condition="{selectedTheme.metaInformation.description}">
			<p>{selectedTheme.metaInformation.description}</p>
		</f:if>

		<f:if condition="{selectedTheme.metaInformation.constants.availableCategories -> f:count()}">
			<b>Tags</b><br>
			<p>
				<f:for each="{selectedTheme.metaInformation.keywords}" as="tag">
						<span class="theme-tag">
							{tag}
						</span>
				</f:for>
			</p>
		</f:if>
	</div>
	<div class="col-xs-6 col-xs-push-1">
		<f:render partial="Meta/Screenshots" arguments="{screenshots:selectedTheme.metaInformation.screenshots}"/>
	</div>
</div>
<div class="theme-detail-options theme-clearfix">
	<f:form action="update" enctype="multipart/form-data" id="saveableForm">
		<f:form.hidden name="pid" value="{pid}" />
		<f:for each="{themes:iterator.sort(subject: categories, key: 'title')}" as="category">
			<f:if condition="{category.items}">
				<h2>
					<f:translate key="{category.title}" default="{category.title}" />
				</h2>
			</f:if>
			<f:groupedFor each="{category.items}" as="subcategory" groupBy="subcat_name" groupKey="subcat_name">
				<table border="0" cellpadding="0" cellspacing="0" class="typo3-dblist" style="max-width: 100%;">
					<col style="width:5%" />
					<col style="width:50%" />
					<col style="width:45%" />
					<f:for each="{themes:iterator.sort(subject: subcategory)}" as="item">
						<tr  title="{item.name}" class="constantLine db_list_normal {f:if(condition:'{item.isDefault}', then:'defaultValueIsSelected')}">
							<td nowrap="nowrap">
								<div class="showOnDefault">
									<span class="showEditForm"><f:image src="EXT:themes/Resources/Public/Icons/power_grey.png" alt="alt text" /></span>
								</div>
								<div class="hideOnDefault">
									<span class="hideEditForm"><f:image src="EXT:themes/Resources/Public/Icons/power_green.png" alt="alt text" /></span>
								</div>
								<f:form.hidden name="check[{item.name}]" value="{f:if(condition:'{item.isDefault}', then:'', else:'checked')}" class="hidden"/>
							</td>
							<td class="">
								<label for="{item.name}">
									<f:format.htmlSpecialChars><f:translate key="{item.label}" default="{item.label}"/></f:format.htmlSpecialChars>
								</label>
							</td>
							<td>
								<f:render partial="FormFields/{item.typeCleaned}" arguments="{field: item}"/>
							</td>
						</tr>
					</f:for>
				</table>
			</f:groupedFor>
		</f:for>
	</f:form>
</div>
