<f:layout name="Default" />

<f:section name="Content">
	<link href="{f:uri.resource(path:'Stylesheet/ThemeSelector.css', extensionName:'themes')}" rel="stylesheet" />

	<f:form action="update" enctype="multipart/form-data">
		<f:comment>
			<f:form.hidden name="data[{formField.table}][{formField.row.uid}][tx_themes_skin]" value="{formField.row.tx_themes_skin}" id="tx_themes_skin"/>
		</f:comment>




		<div class="tx_themes_themeselector" style="border:1px solid black;">
			<f:if condition="{selectedTheme}">
				<f:then>
					<h3>
						Currently selected skin is
						<span title="{formField.row.tx_themes_skin}">&quot;{selectedSkin.title}&quot;</span>
						<span class="t3-icon t3-icon-actions t3-icon-actions-selection t3-icon-selection-delete" onclick="$('tx_themes_skin').value = ''; TBE_EDITOR.submitForm();"> </span>

					</h3>
					<div>
						<ul>
							<li class="previewTheme selectedTheme">
								<div class="previewDescription">
									<p>
										<strong>
											{selectedTheme.title}
										</strong>
										- (EXT:{selectedTheme.extensionName})
									</p>
									<small>
										by
										<a href="mailto:{selectedSkin.author.email}">
											{selectedTheme.author.name}
										</a>
										({selectedTheme.author.company})
									</small>
									<p>
										{selectedTheme.description}
									</p>
								</div>
								<div class="previewImage">
									<img src="{selectedTheme.previewImage}">
								</div>
							</li>
						</ul>
					</div>
					<div class="fixfloat"></div>
					<h3>
						other available skins
					</h3>
				</f:then>
			</f:if>


			<ul class="tx_skinselector_availableThemes">
				<f:for each="{selectableThemes}" as="theme" key="themeNumber">
					<f:if condition="{selectedTheme} == {theme}">
						<f:then>

						</f:then>
						<f:else>
							<li class="previewTheme" style="float:left;">
								<div class="previewImage" onclick="$('tx_themes_skin').value = '{theme.extensionName}'; TBE_EDITOR.submitForm();">
									<img src="{theme.previewImage}">
								</div>
								<div class="previewTitle">
									<b>{theme.title}</b>
								</div>
								<div class="previewOverlay">
									<span class="t3-icon t3-icon-actions t3-icon-actions-document t3-icon-document-select" onclick="$('tx_themes_skin').value = '{theme.extensionName}'; TBE_EDITOR.submitForm();">&nbsp;</span>
									<span class="t3-icon t3-icon-actions t3-icon-actions-system t3-icon-system-extension-documentation">&nbsp;</span>
									<span class="t3-icon t3-icon-apps t3-icon-apps-clipboard t3-icon-clipboard-images">&nbsp;</span>
									<p>
										{theme.description}
									</p>
								</div>
							</li>
						</f:else>
					</f:if>
				</f:for>
			</ul>
			<div style="clear:both;"></div>
		</div>
	</f:form>

	<hr style="clear:both;">

	<f:form action="update" enctype="multipart/form-data" id="saveableForm">
		<f:form.hidden name="pid" value="{pid}" />
		<f:for each="{categories}" as="category">
			<f:if condition="{category.items}">

				<table border="0" cellpadding="0" cellspacing="0" class="typo3-dblist" style="max-width: 100%;">
					<col style="width:5%" />
					<col style="width:50%" />
					<col style="width:45%" />
					<tr class="c-table-row-spacer"><td nowrap="nowrap" class="col-icon"><a href="#">&nbsp;</a></td>
						<td nowrap="nowrap" class="col-icon">
							<img src="clear.gif" width="1" height="8" alt="">
						</td>
						<td nowrap="nowrap" class="">
							<img src="clear.gif" width="230" height="1" alt="">
						</td>
						<td nowrap="nowrap" class="" colspan="10"></td>
					</tr>
					<tr class="t3-row-header">
						<td nowrap="nowrap" class="col-icon"></td>
						<td nowrap="nowrap" class="" colspan="2">
							{category.title}
						</td>
					</tr>
					<f:for each="{category.items}" as="item">
						<tr  title="{item.name}" class="constantLine db_list_normal {f:if(condition:'{item.isDefault}', then:'defaultValueIsSelected')}">
							<td nowrap="nowrap">
								<div class="showOnDefault">
									<span class="t3-icon t3-icon-actions t3-icon-actions-document t3-icon-document-open">&nbsp;</span>
								</div>
								<div class="hideOnDefault">
									<span class="t3-icon t3-icon-actions t3-icon-actions-edit t3-icon-edit-delete">&nbsp;</span>
								</div>
								<f:form.hidden name="check[{item.name}]" value="{f:if(condition:'{item.isDefault}', then:'', else:'checked')}" class="hidden"/>
							</td>
							<td>
								<f:render partial="FormFields/{item.typeCleaned}" arguments="{field: item}"/>
							</td>
							<td class="">
								<label for="{item.name}">{item.label}</label>
							</td>
						</tr>
					</f:for>
				</table>
			</f:if>
		</f:for>
	</f:form>


</f:section>